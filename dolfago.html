
<!doctype html>
<html lang="ko">
<head>
<link rel="stylesheet" type="text/css" href="https://t1.daumcdn.net/tistory_admin/lib/lightbox/css/lightbox.min.css" /><link rel="stylesheet" type="text/css" href="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/style/content/font.css?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1" /><link rel="stylesheet" type="text/css" href="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/style/content/content.css?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1" /><!--[if lt IE 9]><script src="https://t1.daumcdn.net/tistory_admin/lib/jquery/jquery-1.12.4.min.js"></script><![endif]--><!--[if gte IE 9]>
<!--><script src="https://t1.daumcdn.net/tistory_admin/lib/jquery/jquery-3.2.1.min.js"></script><!--<![endif]-->
<script src="https://t1.daumcdn.net/tistory_admin/lib/lightbox/js/lightbox-plus-jquery.min.js"></script>
<script>
lightbox.options.fadeDuration = 200;
lightbox.options.resizeDuration = 200;
lightbox.options.wrapAround = false;
lightbox.options.albumLabel = "%1 / %2";
</script>
<script>var tjQuery = jQuery.noConflict(true);</script><style type="text/css">.tt_article_useless_p_margin p {padding-top:0 !important;padding-bottom:0 !important;margin-top:0 !important;margin-bottom:0 !important;}</style><meta name="referrer" content="always"><link rel="icon" href="//t1.daumcdn.net/tistory_admin/static/top/favicon_0630.ico" /><link rel="apple-touch-icon" href="//img1.daumcdn.net/thumb/C180x180/?fname=https%3A%2F%2Ftistory4.daumcdn.net%2Ftistory%2F2296026%2Fattach%2Fbe41208e428d49319ed60f9544870a17">
<link rel="apple-touch-icon" sizes="76x76" href="//img1.daumcdn.net/thumb/C76x76/?fname=https%3A%2F%2Ftistory4.daumcdn.net%2Ftistory%2F2296026%2Fattach%2Fbe41208e428d49319ed60f9544870a17">
<link rel="apple-touch-icon" sizes="120x120" href="//img1.daumcdn.net/thumb/C120x120/?fname=https%3A%2F%2Ftistory4.daumcdn.net%2Ftistory%2F2296026%2Fattach%2Fbe41208e428d49319ed60f9544870a17">
<link rel="apple-touch-icon" sizes="152x152" href="//img1.daumcdn.net/thumb/C152x152/?fname=https%3A%2F%2Ftistory4.daumcdn.net%2Ftistory%2F2296026%2Fattach%2Fbe41208e428d49319ed60f9544870a17"><meta name="description" content="◈ 이 프로그램은 어빌리티 스톤 세공시 증가 능력을 극대화하고, 감소 능력을 극소화 하는 선택 경로를 제공합니다. ◈ 증가1을 증가2보다 우선시한다고 가정했습니다. 두 번째를 더 선호하신다면 '두번째 선호'..">

<!-- BEGIN OPENGRAPH -->
<link rel="canonical" href="https://myar.tistory.com/26" /><meta property="og:type" content="article"><meta property="og:url" content="https://myar.tistory.com/26" ><meta property="og:site_name" content="MYAR" ><meta property="og:title" content="[로스트아크 시즌2] 어빌리티스톤 세공확률 최적화 시뮬레이터" ><meta name="by" content="MYAR" ><meta property="og:description" content="◈ 이 프로그램은 어빌리티 스톤 세공시 증가 능력을 극대화하고, 감소 능력을 극소화 하는 선택 경로를 제공합니다. ◈ 증가1을 증가2보다 우선시한다고 가정했습니다. 두 번째를 더 선호하신다면 '두번째 선호'.." ><meta property="og:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F997451415CE93EEC2E" >
<!-- END OPENGRAPH -->



<!-- BEGIN TWITTERCARD -->
<meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@TISTORY"><meta name="twitter:title" content="[로스트아크 시즌2] 어빌리티스톤 세공확률 최적화 시뮬레이터" ><meta name="twitter:description" content="◈ 이 프로그램은 어빌리티 스톤 세공시 증가 능력을 극대화하고, 감소 능력을 극소화 하는 선택 경로를 제공합니다. ◈ 증가1을 증가2보다 우선시한다고 가정했습니다. 두 번째를 더 선호하신다면 '두번째 선호'.." ><meta property="twitter:image" content="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F997451415CE93EEC2E" >
<!-- END TWITTERCARD -->



<!-- BEGIN DAUMAPP -->
<meta property="dg:plink" content="https://myar.tistory.com/26" ><meta name="plink" content="https://myar.tistory.com/26" ><meta name="title" content="[로스트아크 시즌2] 어빌리티스톤 세공확률 최적화 시뮬레이터" ><meta name="article:media_name" content="MYAR" ><meta property="article:mobile_url" content="https://myar.tistory.com/m/26" ><meta property="article:pc_url" content="https://myar.tistory.com/26" ><meta property="article:mobile_view_url" content="https://myar.tistory.com/m/26" ><meta property="article:pc_view_url" content="https://myar.tistory.com/26" ><meta property="article:talk_channel_view_url" content="https://myar.tistory.com/m/26" ><meta property="article:pc_service_home" content="https://www.tistory.com" ><meta property="article:mobile_service_home" content="https://www.tistory.com/m" ><meta property="article:txid" content="2296026_26" /><meta property="article:published_time" content="2018-11-22T22:20:02+09:00" ><meta property="og:regDate" content="20181122222002" ><meta property="article:modified_time" content="2020-10-02T01:41:35+09:00" >
<!-- END DAUMAPP -->



<!-- BEGIN STRUCTURED_DATA -->
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"BlogPosting","mainEntityOfPage":{"@id":"https:\/\/myar.tistory.com\/26"},"url":"https:\/\/myar.tistory.com\/26","headline":"[\ub85c\uc2a4\ud2b8\uc544\ud06c \uc2dc\uc98c2] \uc5b4\ube4c\ub9ac\ud2f0\uc2a4\ud1a4 \uc138\uacf5\ud655\ub960 \ucd5c\uc801\ud654 \uc2dc\ubbac\ub808\uc774\ud130","description":"\u25c8 \uc774 \ud504\ub85c\uadf8\ub7a8\uc740 \uc5b4\ube4c\ub9ac\ud2f0 \uc2a4\ud1a4 \uc138\uacf5\uc2dc \uc99d\uac00 \ub2a5\ub825\uc744 \uadf9\ub300\ud654\ud558\uace0, \uac10\uc18c \ub2a5\ub825\uc744 \uadf9\uc18c\ud654 \ud558\ub294 \uc120\ud0dd \uacbd\ub85c\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \u25c8 \uc99d\uac001\uc744 \uc99d\uac002\ubcf4\ub2e4 \uc6b0\uc120\uc2dc\ud55c\ub2e4\uace0 \uac00\uc815\ud588\uc2b5\ub2c8\ub2e4. \ub450 \ubc88\uc9f8\ub97c \ub354 \uc120\ud638\ud558\uc2e0\ub2e4\uba74 '\ub450\ubc88\uc9f8 \uc120\ud638'..","author":{"@type":"Person","name":"MYAR"},"image":{"@type":"ImageObject","url":"https:\/\/img1.daumcdn.net\/thumb\/R800x0\/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F997451415CE93EEC2E","width":"800px","height":"800px"},"datePublished":"20181122T22:20:02+09:00","dateModified":"20201002T01:41:35+09:00","publisher":{"@type":"Organization","name":"TISTORY","logo":{"@type":"ImageObject","url":"https:\/\/t1.daumcdn.net\/tistory_admin\/static\/images\/openGraph\/opengraph.png","width":"800px","height":"800px"}}}</script><meta name="robots" content="max-image-preview:large">
<!-- END STRUCTURED_DATA -->


<meta charset="UTF-8">
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
<title>[로스트아크 시즌2] 어빌리티스톤 세공확률 최적화 시뮬레이터</title>
<link rel="stylesheet" href="https://tistory4.daumcdn.net/tistory/2296026/skin/style.css?_T_=1616797274">
<script src="//t1.daumcdn.net/tistory_admin/lib/jquery/jquery-1.12.4.min.js"></script>

<link rel="stylesheet" type="text/css" href="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/plugins/TistoryProfileLayer/style.css?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1" />
<script type="text/javascript" src="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/plugins/TistoryProfileLayer/profile.js?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1"></script>
<script type="text/javascript">
        
        window.TistoryBlog = {
            basePath: "",
            url: "https://myar.tistory.com",
            tistoryUrl: "https://myar.tistory.com",
			manageUrl: 'https://myar.tistory.com/manage',
            token: 'RnWhNrkR3ZO+b+Erd2au5w=='
        };
        var servicePath = "";
        var blogURL = "";
    </script>

	<script> (function() { window.orgjQuery = window.jQuery; window.jQuery = tjQuery })()</script>
    <script type="text/javascript" defer src=https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/script/reaction/reaction-button-container.min.js?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1></script>
    <script> (function() { window.jQuery = window.orgjQuery; delete window.orgjQuery })()</script>
        <script type="text/javascript" src="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/script/_/base.js?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1"></script>
        <link rel="stylesheet" type="text/css" href="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/style/dialog.css?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1"/>
            <link rel="stylesheet" type="text/css" href="//t1.daumcdn.net/tistory_admin/www/style/top/font.css">
    <link rel="stylesheet" type="text/css" href="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/style/postBtn.css?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1"/>
        <link rel="stylesheet" type="text/css" href="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/style/component/tistory.css?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1" />
        <script src="//developers.kakao.com/sdk/js/kakao.min.js"></script></head>
<body id="tt-body-page" class="color-gray post-type-text paging-view-more">
<script type="text/javascript">
	(function() {
		if (!window.T) {
			window.T = {}
		}
		window.T.config = {"TOP_SSL_URL":"https:\/\/www.tistory.com","PREVIEW":false,"ROLE":"guest","PREV_PAGE":"\/31","NEXT_PAGE":"","BLOG":{"isDormancy":false,"title":"MYAR"},"NEED_COMMENT_LOGIN":false,"COMMENT_LOGIN_CONFIRM_MESSAGE":"","LOGIN_URL":"https:\/\/www.tistory.com\/auth\/login\/?redirectUrl=http%3A%2F%2Fmyar.tistory.com%2F26","DEFAULT_URL":"https:\/\/myar.tistory.com","USER":{"name":null,"homepage":null},"ROLE_GROUP":"visitor","SUBSCRIPTION":{"status":"none","isConnected":false,"isProcessing":false,"isPending":false,"isWait":false,"isNone":true},"IS_LOGIN":false,"HAS_BLOG":false,"TOP_URL":"https:\/\/www.tistory.com","JOIN_URL":"https:\/\/www.tistory.com\/member\/join"};
		window.appInfo = {"domain":"tistory.com","topUrl":"https:\/\/www.tistory.com","loginUrl":"https:\/\/www.tistory.com\/auth\/login","logoutUrl":"https:\/\/www.tistory.com\/auth\/logout"};

        window.initData = {};
        
	})();
</script>

<script type="text/javascript" src="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/script/blog/common.js?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1"></script>
<div style="margin:0; padding:0; border:none; background:none; float:none; clear:none; z-index:0"></div>
<div id="acc-nav">
	<a href="#content">본문 바로가기</a>
</div>
<div id="wrap">
	<header id="header">
		<h1><a href="/">MYAR</a></h1>
		<button type="button" class="mobile-menu"><span>메뉴</span></button>
		<div class="menu">
			<nav id="gnb">
				<ul class="tt_category">
	<li class="">
		<a class="link_tit" href="/category">
			분류 전체보기							<span class="c_cnt">(3)</span>
			
					</a>

			</li>
</ul>
			</nav>
			<div class="social-link">
				
				
				
				
			</div>
			<p>POWERED BY TISTORY</p>
		</div>
		<div class="search">
			
					<input type="text" name="search" value="" placeholder="검색내용을 입력하세요." onkeypress="if (event.keyCode == 13) { try{window.location.href='/search/'+looseURIEncode(document.getElementsByName('search')[0].value);document.getElementsByName('search')[0].value='';return false;}catch(e){} }">
					<button type="submit" onclick="try{window.location.href='/search/'+looseURIEncode(document.getElementsByName('search')[0].value);document.getElementsByName('search')[0].value='';return false;}catch(e){}">검색</button>
				
		</div>
	</header>
	<hr>
	<section class="container">
		<article id="content">

			

			

			

			

			<div class="inner">
				

				
					
					
						<div class="hgroup">
							<!--<div class="category">카테고리 없음</div>-->
							<h1>[로스트아크 시즌2] 어빌리티스톤 세공확률 최적화 시뮬레이터 </h1>
							<div class="post-meta">
								<span class="author">MYAR</span>
								<span class="date">2018. 11. 22. 22:20</span>
								
							</div>
						</div>
						<div class="entry-content">
							<div class="tt_article_useless_p_margin"><style type="text/css">
.cst_btn {
    padding-left: 0.25em;
    padding-right: 0.25em;
    border: solid 1px; /*뒤에 색깔, 글색깔은 color:*/
    background-color: white;
    height: 2em;
    width: 5em;
}
.cst_display_block {
    height: 2em;
}
.cst_btn_grn {
    color: green;
    border: solid 1px green;
}
</style>
<P style="FLOAT: none; TEXT-ALIGN: center; CLEAR: none"><span class="imageblock" style="display:inline-block;width:860px;;height:auto;max-width:100%"><img src="https://t1.daumcdn.net/cfile/tistory/994954385F4207FD06" style="max-width:100%;height:auto" width="860" height="591" filename="Screenshot_200823_150521.jpg" filemime="image/jpeg"/></span></P>
<br />
<p>
    ◈ &nbsp; 이 프로그램은 어빌리티 스톤 세공시 <font color="blue">증가 능력</font>을 극대화하고, <font color="red">감소 능력</font>을 극소화 하는 선택 경로를 제공합니다.
</p>
<br />
<p>
    ◈ &nbsp; <font color="blue">증가1</font>을 <font color="green">증가2</font>보다 우선시한다고 가정했습니다. 두 번째를 더 선호하신다면 '두번째 선호' 버튼을 눌러주세요.
</p>
<br />
<p>
    ◈ &nbsp; 인터넷 익스플로러에서는 작동하지 않습니다. 모바일이나 크롬 등에서 사용해주시기 바랍니다.
</p>
<br />
<br />
<br />
<p>
    사용방법
</p>
<br />
<p>
    ① &nbsp; 세공할 어빌리티 스톤의 칸수를 선택하고, <font color="tomato">추천!</font>이 뜨는 항목을 확인합니다.
</p>
<br />
<p>
    ② &nbsp; 인게임에서 해당 항목을 세공합니다.
</p>
<br />
<p>
    ③ &nbsp; 인게임에서 세공한 결과를 확인하고, 시뮬레이터에 성공/실패 여부를 입력합니다.
</p>
<br />
<p>
    ④ &nbsp; 다음 추천 항목 확인, 인게임 세공, 결과 입력을 반복합니다.
</p>
<br />
<br />
<br />
<p>
    <div class="cst_display_block">
        <button class="cst_btn" id="btn_prefer_second" style="width: 6em;">두번째 선호</button>
        <select class="cst_btn" id="select_maxN">
            <option value="5">5칸</option>
            <option value="6">6칸</option>
            <option value="7">7칸</option>
            <option value="8">8칸</option>
            <option value="9">9칸</option>
            <option value="10">10칸</option>
            <option value="11">11칸</option>
            <option value="12">12칸</option>
            <option value="13">13칸</option>
        </select>
        <button class="cst_btn" id="btn_reset">초기화</button>
        <select class="cst_btn" id="select_p">
            <option value="0">25%</option>
            <option value="1">35%</option>
            <option value="2">45%</option>
            <option value="3">55%</option>
            <option value="4">65%</option>
            <option value="5" selected="true">75%</option>
        </select>
        <button class="cst_btn" id="btn_undo">뒤로</button>
    </div>
</p>
<br />
<p>
    증가 능력
</p>
<div id="div_attr_0">
    <p>
        <div class="cst_display_block">
            <font color="blue"><span id="span_state_0">◇◇◇◇◇</span></font>
            <br />
            <span id="span_control_0">
                <button class="cst_btn" id="btn_success_0">성공</button>
                <button class="cst_btn" id="btn_failure_0">실패</button>
            </span>
            <span id="span_recommendation_0" style="visibility: hidden;"><b><font color="tomato">추천!</font></b> <font color="orange"><span id="span_possibility_0">75%</span></font></span>
        </div>
    </p>
</div>
<br id="br_swap_helper"/>
<div id="div_attr_1">
    <p>
        <div class="cst_display_block">
            <font color="green"><span id="span_state_1">◇◇◇◇◇</span></font>
            <br />
            <span id="span_control_1">
                <button class="cst_btn" id="btn_success_1">성공</button>
                <button class="cst_btn" id="btn_failure_1">실패</button>
            </span>
            <span id="span_recommendation_1" style="visibility: hidden;"><b><font color="tomato">추천!</font></b> <font color="orange"><span id="span_possibility_1">75%</span></font></span>
        </div>
    </p>
</div>
<br />
<p>
    감소 능력
</p>
<p>
    <div class="cst_display_block">
        <font color="red"><span id="span_state_2">◇◇◇◇◇</span></font>
        <br />
        <span id="span_control_2">
            <button class="cst_btn" id="btn_success_2">성공</button>
            <button class="cst_btn" id="btn_failure_2">실패</button>
        </span>
        <span id="span_recommendation_2" style="visibility: hidden;"><b><font color="tomato">추천!</font></b> <font color="orange"><span id="span_possibility_2">75%</span></font></span>
    </div>
</p>
<br />
<p>
    <b><span id="span_result">0점</span></b> <span id="span_average"></span>
</p>
<br />
<br />
<br />
<p>
    <table id="table_p_table">
        <tr align="center">
            <td></td>
            <td align="center"><font color="blue">증가1</font> 기댓값</td>
            <td align="center"><font color="green">증가2</font> 기댓값</td>
            <td align="center"><font color="red">감소</font> 기댓값</td>
        </tr>
        <tr align="center">
            <td align="center"><font color="blue">증가1</font> 선택시</td>
            <td align="center" id="cell_Ea1A1"></td>
            <td align="center" id="cell_Ea2A1"></td>
            <td align="center" id="cell_EbA" rowspan="2"></td>
        </tr>
        <tr align="center">
            <td align="center"><font color="green">증가2</font> 선택시</td>
            <td align="center" id="cell_Ea1A2"></td>
            <td align="center" id="cell_Ea2A2"></td>
        </tr>
        <tr align="center">
            <td align="center"><font color="red">감소</font> 선택시</td>
            <td align="center" id="cell_EaB" colspan="2"></td>
            <td align="center" id="cell_EbB"></td>
        </tr>
    </table>
</p>
<br />
<p>
    ◈ &nbsp; <font color="blue">증가</font> 기댓값은 클수록 좋고, <font color="red">감소</font> 기댓값은 작을수록 좋습니다.
</p>
<br />
<p>
    ◈ &nbsp; 시즌1 링크 <a href="https://myar.tistory.com/31" rel="noopener">https://myar.tistory.com/31</a>
</p>
<br />
<p>
    ◈ &nbsp; (2020-09-11) 25%에서 확률 하락 스택 쌓이는 부분 반영했습니다.
</p>
<p>
    ◈ &nbsp; (2020-10-02) 25% 스택 없어진 것 같아서 원상복구했습니다. 또 확률 불일치 발견하시면 댓글 부탁드립니다.
</p>
<br />
<script type="text/javascript">
(function() {
    // 확률의 가능 값
    const pList = [0.25, 0.35, 0.45, 0.55, 0.65, 0.75]; // pIndex = -1 ~ 5
    pList.succ = function(pIndex) {
        if (pIndex > 0) {
            pIndex -= 1;
        }
        return pIndex;
    }
    pList.fail = function(pIndex) {
        if (pIndex < this.length - 1) {
            pIndex += 1;
        }
        return pIndex;
    }
    pList.getP = function(pIndex) {
        if (pIndex < 0) {
            return this[0];
        }
        return this[pIndex];
    }

    // 사용자의 입력을 저장하는 변수
    // 변경 사항이 감지될 경우, clickList가 변경되고, 이에 맞춰서 변수들이 조정되며 display가 표시된다.
    // 칸 수 변경, 초기화시 초기화되며, 성공/실패 입력시 값이 추가되고, 뒤로 버튼 클릭시 값이 제거된다.
    const clickList = [];

    // clickList 변수에서 line: i 인 아이템의 개수를 찾는 함수
    clickList.count = function(i) {
        var count = 0;
        for (var j = this.length - 1; j >= 0; j--) {
            if (this[j].line == i) {
                count += 1;
            }
        }
        return count;
    }

    // 칸 수를 저장하는 변수
    var maxN = 5;

    // 현재 확률 값을 저장하는 변수(인덱스)
    var pIndex = pList.length - 1;

    // 다음 최적 선택 줄을 저장하는 변수 (1, 2, 3)
    var rec = 0b000;

    // 칸 수(maxN) 변경시
    const selectE = document.getElementById("select_maxN");
    selectE.addEventListener('change', function() {
        maxN = parseInt(selectE.value);
        clickList.length = 0; // clickList 초기화
        updateByClickList();
    });

    // 초기화(reset) 버튼 클릭시
    document.getElementById("btn_reset").addEventListener("click", function() {
        clickList.length = 0; // clickList 초기화
        updateByClickList();
    });

    // 확률 수동 변경시
    const selectP = document.getElementById("select_p");
    selectP.addEventListener('change', function() {
        clickList.push({
            line: -1,
            scs: false,
            pIndex: parseInt(selectP.value)
        });
        updateByClickList();
    });

    // 성공/실패 버튼 클릭시
    for (var i = 0; i < 3; i++) {
        document.getElementById("btn_success_"+i).addEventListener("click", onClickControl(i, true));
        document.getElementById("btn_failure_"+i).addEventListener("click", onClickControl(i, false));
    }
    function onClickControl(i, scs) {
        return function() {
            if (clickList.count(i) < maxN) {
                // pIndex 를 업데이트함
                if (scs) {
                    pIndexNew = pList.succ(pIndex);
                } else {
                    pIndexNew = pList.fail(pIndex);
                }
                clickList.push({
                    line: i,
                    scs: scs,
                    pIndex: pIndexNew
                });
                updateByClickList();
            }
        }
    }

    // 뒤로 버튼 클릭시
    document.getElementById("btn_undo").addEventListener("click", function() {
        if (clickList.length > 0) {
            clickList.pop();
            updateByClickList();
        }
    });

    // 선호 변경 버튼
    var is_prefer_first = true;
    document.getElementById("btn_prefer_second").addEventListener("click", function() {
        var helper = document.getElementById("br_swap_helper");
        var attr0 = document.getElementById("div_attr_0");
        var attr1 = document.getElementById("div_attr_1");
        if (is_prefer_first) {
            is_prefer_first = false;
            helper.parentNode.insertBefore(attr0, helper.nextSibling);
            helper.parentNode.insertBefore(attr1, helper);
            this.className += " cst_btn_grn";
        } else {
            is_prefer_first = true;
            helper.parentNode.insertBefore(attr0, helper);
            helper.parentNode.insertBefore(attr1, helper.nextSibling);
            this.className = this.className.replace(/\bcst_btn_grn\b/g, "");
        }
        // 증가1 증가2 바꾸기
        for (var j = 0; j < clickList.length; j++) {
            if (clickList[j].line == 0) {
                clickList[j].line = 1;
            } else if (clickList[j].line == 1) {
                clickList[j].line = 0;
            }
        }
        updateByClickList();
    });

    // clickList 변수에 맞춰서 다른 변수들을 조정함
    function updateByClickList() {
        // clickList의 마지막에 저장된 확률을 반영함, 그 내용을 select 에도 반영함
        if (clickList.length > 0) {
            pIndex = clickList[clickList.length - 1].pIndex;
        } else {
            pIndex = pList.length - 1;
        }
        if (pIndex < 0) {
            selectP.value = 0;
        } else {
            selectP.value = pIndex;
        }

        // clickList에 따라서 display를 update함
        var count;
        var lineStateHTML;
        for (var i = 0; i < 3; i++) {
            count = maxN;
            lineStateHTML = "";
            for (var j = 0; j < clickList.length; j++) {
                if (clickList[j].line == i) {
                    if (clickList[j].scs) {
                        lineStateHTML += "◆";
                    } else {
                        lineStateHTML += '<font color="lightgray">◆</font>';
                    }
                    count -= 1;
                }
            }
            for (var j = 0; j < count; j++) {
                lineStateHTML += "◇";
            }
            document.getElementById("span_state_"+i).innerHTML = lineStateHTML;
        }

        // display: p_table을 업데이트함
        const na1 = maxN - clickList.count(0);
        const na2 = maxN - clickList.count(1);
        const nb = maxN - clickList.count(2);
        const pTable = getPTable(na1, na2, nb, pIndex);
        document.getElementById("cell_Ea1A1").innerHTML = pTable[0][0].toFixed(2);
        document.getElementById("cell_Ea2A1").innerHTML = pTable[0][1].toFixed(2);
        document.getElementById("cell_EbA").innerHTML = pTable[0][2].toFixed(2);
        document.getElementById("cell_Ea1A2").innerHTML = pTable[1][0].toFixed(2);
        document.getElementById("cell_Ea2A2").innerHTML = pTable[1][1].toFixed(2);
        //document.getElementById("cell_EbA").innerHTML = pTable[1][2].toFixed(2);
        document.getElementById("cell_EaB").innerHTML = pTable[2][0].toFixed(2);
        //document.getElementById("cell_EaB").innerHTML = pTable[2][1].toFixed(2);
        document.getElementById("cell_EbB").innerHTML = pTable[2][2].toFixed(2);

        // rec 변수를 업데이트함
        if (pTable[0][2] == 0 && pTable[2][0] == 0 && pTable[2][2] > 0) {
            rec = 0b001;
        } else if (pTable[0][2] > pTable[2][2]) {
            rec = 0b001;
        } else if (pTable[0][0] > pTable[1][0] && pTable[0][1] < pTable[1][1]) {
            rec = 0b100;
        } else if (pTable[0][0] < pTable[1][0] && pTable[0][1] > pTable[1][1]) {
            rec = 0b010;
        } else {
            rec = 0b110;
        }

        // 성공/실패 추천! 75% 부분을 업데이트함
        var er, ec, ep;
        const p = Math.round(pList.getP(pIndex) * 100);
        for (var i = 0; i < 3; i++) {
            // display: recommendation 을 업데이트함
            er = document.getElementById("span_recommendation_"+i);
            if ((rec & (0b100 >> i)) != 0) {
                er.style.visibility = "visible";
            } else {
                er.style.visibility = "hidden";
            }

            // 숨겨진 컨트롤(성공/실패)가 있다면 다시 보이도록 함
            // line == i 인 아이템 수가 maxN이면 숨기도록 함
            ec = document.getElementById("span_control_"+i);
            if (clickList.count(i) < maxN) {
                ec.style.visibility = "visible";
            } else {
                ec.style.visibility = "hidden";
                er.style.visibility = "hidden"; // 컨트롤이 없어지면 추천!도 없어짐
            }

            // display: possibility 를 업데이트함
            ep = document.getElementById("span_possibility_"+i).innerHTML = p + "%";
        }

        // 결과와 평균을 업데이트함
        var score = 0;
        for (var i = 0; i < clickList.length; i++) {
            if (clickList[i].line < 2 && clickList[i].scs) {
                score += 1;
            }
        }
        const average = score + pTable[3];
        if (na1 == 0 && na2 == 0) {
            // 0, 1행 완료하면 기댓값 무의미
            const firstAverage = getPTable(maxN, maxN, maxN, pList.length - 1)[3];
            document.getElementById("span_result").innerHTML = '<font color="red">결과 '+score+'점</font>';
            document.getElementById("span_average").innerHTML = "(평균 "+firstAverage.toFixed(2)+"점)";
        } else {
            document.getElementById("span_result").innerHTML = score+"점";
            document.getElementById("span_average").innerHTML = "(기댓값 "+average.toFixed(2)+"점)";
        }
    }

    // 여기에서부터 알고리즘
    const EsMap = {};
    const EaMap = {};
    const Ea1Map = {};

    function calculateE(pIndex, succ, fail, same) {
        const p = pList.getP(pIndex);
        var v = p*succ + (1-p)*fail;
        if (same) {
            v += p;
        }
        return v;
    }

    function calculateEs(n, pIndex) {
        return calculateE(pIndex,
            getEs(n, pList.succ(pIndex)),
            getEs(n, pList.fail(pIndex)),
            true);
    }

    function calculateEa(na, nb, pIndex, same) {
        return calculateE(pIndex,
            getEa(na, nb, pList.succ(pIndex)),
            getEa(na, nb, pList.fail(pIndex)),
            same);
    }

    function calculateEa1(na1, na2, nb, pIndex, same) {
        return calculateE(pIndex,
            getEa1(na1, na2, nb, pList.succ(pIndex)),
            getEa1(na1, na2, nb, pList.fail(pIndex)),
            same);
    }

    function getEs(n, pIndex) {
        const k = [n, pIndex];
        if (EsMap.hasOwnProperty(k)) {
        } else if (n == 0) {
            EsMap[k] = 0;
        } else {
            EsMap[k] = calculateEs(n-1, pIndex);
        }
        return EsMap[k];
    }

    function getEa(na, nb, pIndex) {
        const k = [na, nb, pIndex];
        if (EaMap.hasOwnProperty(k)) {
        } else if (na == 0) { // (0, n)
            EaMap[k] = 0;
        } else if (nb == 0) { // (n, 0)
            EaMap[k] = getEs(na, pIndex);
        } else {
            const EaA = calculateEa(na - 1, nb, pIndex, true);
            const EaB = calculateEa(na, nb - 1, pIndex, false);
            EaMap[k] = Math.max(EaA, EaB);
        }
        return EaMap[k];
    }

    function getEa1(na1, na2, nb, pIndex) {
        const k = [na1, na2, nb, pIndex];
        if (Ea1Map.hasOwnProperty(k)) {
        } else if (na1 == 0) { // (0, n, m)
            Ea1Map[k] = 0;
        } else if (na2 == 0 && nb == 0) { // (n, 0, 0)
            Ea1Map[k] = getEs(na1, pIndex);
        } else if (na2 == 0) { // (n, 0, m)
            Ea1Map[k] = getEa(na1, nb, pIndex);
        } else if (nb == 0) { // (n, m, 0)
            Ea1Map[k] = getEa(na1, na2, pIndex); // A1을 A2보다 우선시한다고 가정
        } else {
            const Ea1A1 = calculateEa1(na1 - 1, na2, nb, pIndex, true);
            const Ea1A2 = calculateEa1(na1, na2 - 1, nb, pIndex, false);
            Ea1Map[k] = Math.max(Ea1A1, Ea1A2); // A1을 A2보다 우선시한다고 가정
        }
        return Ea1Map[k];
    }

    function getPTable(na1, na2, nb, pIndex) {
        var na = na1 + na2;
        var n = na + nb;
        var Es = 0,
            EaA = 0,
            EbA = 0,
            EaB = 0,
            EbB = 0,
            Ea1A1 = 0,
            Ea1A2 = 0,
            Ea2A1 = 0,
            Ea2A2 = 0;
        Es = getEs(n, pIndex);
        if (na > 0) {
            EaA = calculateEa(na - 1, nb, pIndex, true);
            EbA = Es - EaA; // EbA1 = EbA2 = EbA
        }
        if (nb > 0) {
            EaB = calculateEa(na, nb - 1, pIndex, false);
            EbB = Es - EaB;
        }
        if (na1 > 0) {
            Ea1A1 = calculateEa1(na1 - 1, na2, nb, pIndex, true);
            Ea2A1 = EaA - Ea1A1;
        }
        if (na2 > 0) {
            Ea1A2 = calculateEa1(na1, na2 - 1, nb, pIndex, false);
            Ea2A2 = EaA - Ea1A2;
        }

        return [
            [Ea1A1, Ea2A1, EbA],
            [Ea1A2, Ea2A2, EbA],
            [EaB, EaB, EbB],
            Math.max(EaA, EaB) // 평균
        ]; // A1선택시 각각 기댓값,...
    }

    updateByClickList(); // 초기화
})();
</script>
<div class="container_postbtn #post_button_group">
    <div class="postbtn_like">
        
<script>
    window.ReactionButtonType = 'reaction';
    window.ReactionApiUrl = '//myar.tistory.com/reaction';
    window.ReactionReqBody = {
        entryId: 26    }
</script>
<div class="wrap_btn" id=reaction-26></div>
<script src=https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/script/reaction/reaction-button-container.min.js?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1></script>
        <div class="wrap_btn wrap_btn_share">
    <button type="button" class="btn_post sns_btn btn_share" data-thumbnail-url="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F997451415CE93EEC2E" data-title="[로스트아크 시즌2] 어빌리티스톤 세공확률 최적화 시뮬레이터" data-description="◈ 이 프로그램은 어빌리티 스톤 세공시 증가 능력을 극대화하고, 감소 능력을 극소화 하는 선택 경로를 제공합니다. ◈ 증가1을 증가2보다 우선시한다고 가정했습니다. 두 번째를 더 선호하신다면 '두번째 선호'.." data-profile-image="https://tistory2.daumcdn.net/tistory/2296026/attach/be41208e428d49319ed60f9544870a17" data-profile-name="MYAR" data-pc-url="https://myar.tistory.com/26" data-relative-pc-url="/26" data-blog-title="MYAR">
        <span class="ico_postbtn ico_share">공유하기</span>
    </button>
</div>
                <div class="wrap_btn wrap_btn_etc" data-entry-id="26" data-entry-visibility="public" data-category-visibility="public">
    <button type="button" class="btn_post btn_etc2"><span class="ico_postbtn ico_etc">글 요소</span></button>
</div>
    </div>
    <button type="button" class="btn_menu_toolbar btn_subscription  #subscribe" data-blog-id="2296026" data-url="https://myar.tistory.com/26" data-device="web_pc">
    <em class="txt_state">구독하기</em>
    <strong class="txt_tool_id">MYAR</strong>
    <span class="img_common_tistory ico_check_type1"></span>
</button>
    <div class="postbtn_ccl" data-ccl-type="3">
    <a href="https://creativecommons.org/licenses/by/4.0/deed.ko" target="_blank" class="link_ccl">
        <span class="bundle_ccl">
            <span class="ico_postbtn ico_ccl1">저작자표시</span>        </span>
    </a>
</div>
    <!--
<rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
    <Work rdf:about="">
        <license rdf:resource="http://creativecommons.org/licenses/by-fr/2.0/kr/" />
    </Work>
    <License rdf:about="http://creativecommons.org/licenses/by-fr/">
        <permits rdf:resource="http://web.resource.org/cc/Reproduction"/>
        <permits rdf:resource="http://web.resource.org/cc/Distribution"/>
        <requires rdf:resource="http://web.resource.org/cc/Notice"/>
        <requires rdf:resource="http://web.resource.org/cc/Attribution"/>
                <permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/>
                    </License>
</rdf:RDF>
-->
</div></div>
						</div>
						

						<div id="entry26Comment">
							<button class="btn" onclick="this.style.display='none';this.nextElementSibling.style.display='block'">댓글보기</button>
							<div class="comments" style="display:none">
								
									<div class="comment-list">
										<ul>
											<li id="ttMorePreviousCommentsFor26" class="tt_more_preview_comments_wrap" onclick="getEntryCommentsByPaging(26); return false;" style="text-align:center;cursor:pointer"><span class="tt_more_preview_comments_text">이전 댓글 더보기</span><input id="ttMorePreviousCommentsFirstWrittenFor26" type="hidden" value="1603121471" /><input id="ttMorePreviousCommentsFirstIdFor26" type="hidden" value="16663556" /></li>
												<li id="comment16663556">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_03.png" class="avatar" alt="">
														<span class="nickname">ㅇㅇ</span>
														<span class="date">2020.10.20 00:31</span>
														<span class="control">
															<a href="/26#comment16663556">댓글주소</a>
															<a href="#" onclick="deleteComment(16663556);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16663556); return false">댓글쓰기</a>
														</span>
													</div>
													<p>시즌2 감사합니다 ^^</p>
													
												</li>
											
												<li id="comment16690130">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_04.png" class="avatar" alt="">
														<span class="nickname">와..</span>
														<span class="date">2020.11.09 05:18</span>
														<span class="control">
															<a href="/26#comment16690130">댓글주소</a>
															<a href="#" onclick="deleteComment(16690130);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16690130); return false">댓글쓰기</a>
														</span>
													</div>
													<p>덕분에 3티 전설 원한7 기습7 공감 2 띄웠네요 감사합니다</p>
													
												</li>
											
												<li id="comment16775045">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_04.png" class="avatar" alt="">
														<span class="nickname">와씨</span>
														<span class="date">2021.01.07 18:33</span>
														<span class="control">
															<a href="/26#comment16775045">댓글주소</a>
															<a href="#" onclick="deleteComment(16775045);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16775045); return false">댓글쓰기</a>
														</span>
													</div>
													<p>덕분에 잘 깎았습니다 ㅜㅜ</p>
													
												</li>
											
												<li id="comment16823692">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_05.png" class="avatar" alt="">
														<span class="nickname">묵직한</span>
														<span class="date">2021.02.12 23:18</span>
														<span class="control">
															<a href="/26#comment16823692">댓글주소</a>
															<a href="#" onclick="deleteComment(16823692);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16823692); return false">댓글쓰기</a>
														</span>
													</div>
													<p>우왕 77 처음 띄워 보는 듯요~ ㄳ요~</p>
													
												</li>
											
												<li id="comment16831438">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_02.png" class="avatar" alt="">
														<span class="nickname">66</span>
														<span class="date">2021.02.18 23:34</span>
														<span class="control">
															<a href="/26#comment16831438">댓글주소</a>
															<a href="#" onclick="deleteComment(16831438);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16831438); return false">댓글쓰기</a>
														</span>
													</div>
													<p>66돌 겟 ㄳ </p>
													
												</li>
											
												<li id="comment16859890">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_01.png" class="avatar" alt="">
														<span class="nickname">556</span>
														<span class="date">2021.03.16 10:54</span>
														<span class="control">
															<a href="/26#comment16859890">댓글주소</a>
															<a href="#" onclick="deleteComment(16859890);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16859890); return false">댓글쓰기</a>
														</span>
													</div>
													<p>유물돌인데 왜 556 이렇게 되는거냐 나는ㅜㅜ</p>
													
												</li>
											
												<li id="comment16870781">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_06.png" class="avatar" alt="">
														<span class="nickname">5412</span>
														<span class="date">2021.03.26 15:26</span>
														<span class="control">
															<a href="/26#comment16870781">댓글주소</a>
															<a href="#" onclick="deleteComment(16870781);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16870781); return false">댓글쓰기</a>
														</span>
													</div>
													<p>75퍼 연속 4번실패.....돌파고를 쓸 자격이 없나봅니다</p>
													
												</li>
											
												<li id="comment16872578">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_07.png" class="avatar" alt="">
														<span class="nickname">미니</span>
														<span class="date">2021.03.28 18:22</span>
														<span class="control">
															<a href="/26#comment16872578">댓글주소</a>
															<a href="#" onclick="deleteComment(16872578);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16872578); return false">댓글쓰기</a>
														</span>
													</div>
													<p>일단 6개 시도해서 87에 -2 로 한개성공</p>
													
												</li>
											
												<li id="comment16872776">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_04.png" class="avatar" alt="">
														<span class="nickname"></span>
														<span class="date">2021.03.28 20:48</span>
														<span class="control">
															<a href="/26#comment16872776">댓글주소</a>
															<a href="#" onclick="deleteComment(16872776);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16872776); return false">댓글쓰기</a>
														</span>
													</div>
													<p>비밀댓글입니다</p>
													
												</li>
											
												<li id="comment16873065">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_00.png" class="avatar" alt="">
														<span class="nickname">부엉비</span>
														<span class="date">2021.03.29 01:40</span>
														<span class="control">
															<a href="/26#comment16873065">댓글주소</a>
															<a href="#" onclick="deleteComment(16873065);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16873065); return false">댓글쓰기</a>
														</span>
													</div>
													<p>나는왜 안되지???<br />
</p>
													
												</li>
											
												<li id="comment16881369">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_00.png" class="avatar" alt="">
														<span class="nickname">77</span>
														<span class="date">2021.04.04 21:55</span>
														<span class="control">
															<a href="/26#comment16881369">댓글주소</a>
															<a href="#" onclick="deleteComment(16881369);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16881369); return false">댓글쓰기</a>
														</span>
													</div>
													<p>아아 77돌 드디어 겟.. 감사합니다 돌파고님 빛강선님</p>
													
												</li>
											
												<li id="comment16881377">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_03.png" class="avatar" alt="">
														<span class="nickname">돌파고대박</span>
														<span class="date">2021.04.04 22:00</span>
														<span class="control">
															<a href="/26#comment16881377">댓글주소</a>
															<a href="#" onclick="deleteComment(16881377);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16881377); return false">댓글쓰기</a>
														</span>
													</div>
													<p>감사합니다... 772 갔습니다 ㅠㅜ 감사합니다 ㅠㅜ</p>
													
												</li>
											
												<li id="comment16883447">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_00.png" class="avatar" alt="">
														<span class="nickname">선택장애에게 좋네요.</span>
														<span class="date">2021.04.06 17:05</span>
														<span class="control">
															<a href="/26#comment16883447">댓글주소</a>
															<a href="#" onclick="deleteComment(16883447);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16883447); return false">댓글쓰기</a>
														</span>
													</div>
													<p>이거할까 저거할까 아니 이거했으면 더 좋지 않았을까? 하고 수십번은 고민했을텐데<br />
이게 있어서 하라는대로 똭똭하면 되니까 엄청 좋아요.</p>
													
												</li>
											
												<li id="comment16888096">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_01.png" class="avatar" alt="">
														<span class="nickname">781</span>
														<span class="date">2021.04.10 22:11</span>
														<span class="control">
															<a href="/26#comment16888096">댓글주소</a>
															<a href="#" onclick="deleteComment(16888096);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16888096); return false">댓글쓰기</a>
														</span>
													</div>
													<p>이거 써봤는데 바로 781 갔네요... 감사합니다</p>
													
												</li>
											
												<li id="comment16893307">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_04.png" class="avatar" alt="">
														<span class="nickname">캣로얄</span>
														<span class="date">2021.04.15 16:51</span>
														<span class="control">
															<a href="/26#comment16893307">댓글주소</a>
															<a href="#" onclick="deleteComment(16893307);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16893307); return false">댓글쓰기</a>
														</span>
													</div>
													<p>감사합니다 !! 7 8 1  갔습니다 </p>
													
												</li>
											
												<li id="comment16894276">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_03.png" class="avatar" alt="">
														<span class="nickname">ㅇㅇ</span>
														<span class="date">2021.04.16 12:52</span>
														<span class="control">
															<a href="/26#comment16894276">댓글주소</a>
															<a href="#" onclick="deleteComment(16894276);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16894276); return false">댓글쓰기</a>
														</span>
													</div>
													<p>중간까진 프로그램 대로 누르는게 맞으나 5~6칸 이후부터는 <br />
성공 개수에 따라 다르게 판단해야함 <br />
처음부터 끝까지 곧이곧대로 따라 가는건 완전 운빨에 맡기는거고 </p>
													
												</li>
											
												<li id="comment16908287">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_06.png" class="avatar" alt="">
														<span class="nickname"></span>
														<span class="date">2021.04.27 23:48</span>
														<span class="control">
															<a href="/26#comment16908287">댓글주소</a>
															<a href="#" onclick="deleteComment(16908287);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16908287); return false">댓글쓰기</a>
														</span>
													</div>
													<p>비밀댓글입니다</p>
													
														<ul>
															
																<li id="comment16908351">
																	<div class="author-meta">
																		<img src="https://tistory1.daumcdn.net/tistory/user/3236887/profile/profileImg?v=1617402310412" class="avatar" alt="">
																		<span class="nickname"><img src="https://myar.tistory.com/index.gif" alt="BlogIcon" width="32" height="32" onerror="this.parentNode.removeChild(this)" /> <a href="https://myar.tistory.com" onclick="return openLinkInNewWindow(this)"> MYAR</a><span class="tistoryProfileLayerTrigger" onclick='TistoryProfile.show(event, this, {&quot;title&quot;:&quot;MYAR&quot;,&quot;url&quot;:&quot;https:\/\/myar.tistory.com&quot;,&quot;nickname&quot;:&quot;MYAR&quot;,&quot;items&quot;:[]}); return false;'></span></span>
																		<span class="date">2021.04.28 01:31 <a href="/toolbar/popup/abuseReport/?entryId=26&commentId=16908351" onclick="window.open(this.href, 'ThisBlogReportPopup', 'width=550, height=510, toolbar=no, menubar=no, status=no, scrollbars=no'); return false;">신고</a></span>
																		<span class="control">
																			<a href="/26#comment16908351">댓글주소</a>
																			<a href="#" onclick="deleteComment(16908351); return false;">수정/삭제</a>
																		</span>
																	</div>
																	<p>문의 감사드립니다.<br />
목표 세공수치 기능에 대한 필요성이 있는 것 같습니다.<br />
예전에 시도했다가 말았는데, 다시 해보고 가능하다면 올려보도록 하겠습니다.</p>
																</li>
															
														</ul>
													
												</li>
											
												<li id="comment16913590">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_03.png" class="avatar" alt="">
														<span class="nickname">ㅇㅇ</span>
														<span class="date">2021.05.01 20:17</span>
														<span class="control">
															<a href="/26#comment16913590">댓글주소</a>
															<a href="#" onclick="deleteComment(16913590);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16913590); return false">댓글쓰기</a>
														</span>
													</div>
													<p>11만골 무과금인 사람인데 균열 확률 25 35 체감상 너무 잘붙는거 같네</p>
													
												</li>
											
												<li id="comment16915721">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_00.png" class="avatar" alt="">
														<span class="nickname"></span>
														<span class="date">2021.05.03 15:53</span>
														<span class="control">
															<a href="/26#comment16915721">댓글주소</a>
															<a href="#" onclick="deleteComment(16915721);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16915721); return false">댓글쓰기</a>
														</span>
													</div>
													<p>비밀댓글입니다</p>
													
														<ul>
															
																<li id="comment16916240">
																	<div class="author-meta">
																		<img src="https://tistory1.daumcdn.net/tistory/user/3236887/profile/profileImg?v=1617402310412" class="avatar" alt="">
																		<span class="nickname"><img src="https://myar.tistory.com/index.gif" alt="BlogIcon" width="32" height="32" onerror="this.parentNode.removeChild(this)" /> <a href="https://myar.tistory.com" onclick="return openLinkInNewWindow(this)"> MYAR</a><span class="tistoryProfileLayerTrigger" onclick='TistoryProfile.show(event, this, {&quot;title&quot;:&quot;MYAR&quot;,&quot;url&quot;:&quot;https:\/\/myar.tistory.com&quot;,&quot;nickname&quot;:&quot;MYAR&quot;,&quot;items&quot;:[]}); return false;'></span></span>
																		<span class="date">2021.05.03 21:43 <a href="/toolbar/popup/abuseReport/?entryId=26&commentId=16916240" onclick="window.open(this.href, 'ThisBlogReportPopup', 'width=550, height=510, toolbar=no, menubar=no, status=no, scrollbars=no'); return false;">신고</a></span>
																		<span class="control">
																			<a href="/26#comment16916240">댓글주소</a>
																			<a href="#" onclick="deleteComment(16916240); return false;">수정/삭제</a>
																		</span>
																	</div>
																	<p>안녕하세요!<br />
알고리즘 질문해주셨군요.<br />
제가 코딩 왕초보고 설명 능력도 부족하지만 한번 설명해보겠습니다.<br />
조만간 패치하려고 했는데 저도 생각을 정리하는 겸 해서요.<br />
일단 저도 이 코드를 짠 게 오래돼서 디테일한 건 넘어가겠습니다.<br />
우클릭 &gt; 페이지 소스 보기 하시면 코드를 보실 수는 있는데 스파게티 코드라서 이해하기 어려우실 거예요ㅠㅠ<br />
그리고 대댓글을 비밀댓글로 하면 아무도 못 본다는 문제가 있다길래 전체 공개로 올리겠습니다.<br />
<br />
특성1, 특성2, 특성3을 간단히 A, B, C라고 부르겠습니다.<br />
남은 칸수들이 각각 a, b, c, 확률이 p라고 할 때 상태를 (a, b, c, p)로 표현하겠습니다.<br />
예로 6칸일 때 했을 때 시작 상태는 (6, 6, 6, 75%)가 되겠죠.<br />
A를 한 번 누르면 성공시 (5, 6, 6, 65%), 실패시 (5, 6, 6, 75%) 상태가 될 겁니다.<br />
<br />
어떤 상태 (a, b, c, p)에서 끝까지 세공했을 때 성공 개수를 [x, y, z]라고 합시다.<br />
이건 확률에 따라 나오는 결과니까 0 ≤ x ≤ a, 0 ≤ y ≤ b, 0 ≤ z ≤ c 가 되겠죠.<br />
원하는 건 각각의 결과가 나올 확률의 표 P를 구하는 것입니다.<br />
표는 다음 모양이라고 생각할 수 있겠죠. (3차원 배열)<br />
––––––––––––––––<br />
성공 개수 | 확률<br />
––––––––––––––––<br />
(0, 0, 0) |  ?<br />
(0, 0, 1) |  ?<br />
⋮<br />
(x, y, z) |  ?<br />
⋮<br />
(a, b, c) |  ?<br />
––––––––––––––––<br />
<br />
확률표를 구하는 건 모든 선택들이 정해졌을 때 가능합니다.<br />
이런 선택들의 집합을 '전략'이라고 부르겠습니다.<br />
예를 들어 '전략 0001'은<br />
––––––––––––––––––––––––––––––––––––––––––<br />
(6, 6, 6, 75%) 에서 A를 선택<br />
성공한 경우 B를 선택, 실패한 경우 C를 선택<br />
⋮<br />
(0, 0, 1, 25%) 에서 C를 선택<br />
––––––––––––––––––––––––––––––––––––––––––<br />
이런 식으로 모든 경우에 무엇을 선택할 지 '선택 경로'가 정해진 것입니다.<br />
무수한 전략들이 존재할 수 있겠죠.<br />
최종 목적은 &quot;최적의 전략&quot;을 구하는 것입니다.<br />
<br />
각각의 전략들마다 확률표를 구할 수 있습니다.<br />
전략을 S라고 하면 P = P(a, b, c, p, S) 함수로 나타낼 수 있겠네요.<br />
모든 확률표 중 가장 좋은 확률표를 찾으면 그 때의 전략이 최적의 전략이라고 할 수 있습니다.<br />
<br />
확률표를 비교하는 방법은, 어떤 기준에 의해 확률표로부터 값을 추출해서 그 값을 비교합니다.<br />
선택 기준이 &quot;E(Z)가 가장 작은 확률표&quot;라면, 확률표에서 E(Z)를 구하는 것이죠. (E는 기댓값)<br />
이것을 L(P)라고 하겠습니다. 즉, L(P) = &quot;P의 E(Z)값&quot; 입니다.<br />
모든 S에 대해, L(P(6, 6, 6, 75%, S)) 값을 가장 작게 만드는 S가, 6칸에서 최적의 전략이 되는 것입니다.<br />
<br />
그런데 모든 S들을 하나하나 대입해보기는 어려우니, 다음과 같이 생각합니다.<br />
어떤 상태가 (a, b, c, p)일 때 모든 S는 6개로 나누어 생각할 수 있습니다.<br />
A선택-성공-S1, A선택-실패-S2<br />
B선택-성공-S3, B선택-실패-S4<br />
C선택-성공-S5, C선택-실패-S6<br />
이때 각각 하위 상태들에서 확률표를 P1, P2, ..., P6라고 합시다. (P1 = P(a-1, b, c, p-10%, S1) 등)<br />
S1, S2, ..., S6은 따로 정해질 수 있습니다. (독립적)<br />
따라서 P1, P2, ..., P6도 서로 영향을 주지는 않습니다.<br />
<br />
A, B, C를 각각 선택한다고 가정했을 때 확률표는 다음과 같습니다.<br />
Pa = p*P1'x + (1-p)*P2<br />
Pb = p*P3'y + (1-p)*P4<br />
Pc = p*P5'z + (1-p)*P6<br />
여기에서 P1'x는 3차원 배열 P1을 X방향으로 +1만큼 shift 시킨 3차원 배열을 뜻합니다.<br />
왜냐하면 A를 성공시킨다면 결과에서 X값이 +1되기 때문입니다.<br />
<br />
한편 A, B, C중 하나는 선택될 것이므로 P는 Pa, Pb, Pc 중 하나입니다.<br />
S가 최적의 전략이라면 L(Pa)의 최솟값, L(Pb)의 최솟값, L(Pc)의 최솟값 중 가장 작은 쪽이 선택될 것입니다.<br />
<br />
이때, 기준 L이 선형적이라면 계산이 간단해집니다. (기댓값도 선형적입니다)<br />
L(Pa) = L(p*P1'x + (1-p)*P2) = p*L(P1'x) + (1-p)*L(P2)<br />
L(Pb) = L(p*P3'y + (1-p)*P4) = p*L(P3'y) + (1-p)*L(P4)<br />
L(Pc) = L(p*P5'z + (1-p)*P6) = p*L(P5'z) + (1-p)*L(P6)<br />
<br />
P1, P2가 독립적이므로 L(P1'x), L(P2)도 독립적입니다.<br />
그 말은 L(Pa)가 최소가 되려면 L(P1'x)도 최소(L(P1)도 최소), L(P2)도 최소가 되어야 한다는 뜻입니다.<br />
반복되는 게 보이시나요?<br />
이게 중요한데, 이것의 의미는 &quot;모든 하위 상태에서 L(P) 값이 최소가 되어야 한다&quot;는 것입니다.<br />
거꾸로, &quot;어떤 상태에서 최적의 전략을 알고 있다면, 그 상위 상태에서 시작하는 최적의 전략은 그것을 포함한다&quot;는 것입니다.<br />
또 다른 관점에서 보면 &quot;최적의 전략은 상태에만 의존한다&quot;겠네요.<br />
<br />
어쨌든 그렇게 S가 정해졌을 때, 점화식을 다음과 같이 구할 수 있습니다. (성공시 p -&gt; p-, 실패시 p -&gt; p+로 표현함)<br />
L(P(a, b, c, p)) = min(<br />
	p*L(P(a-1, b, c, p-)'x) + (1-p)*L(P(a-1, b, c, p+)),<br />
	p*L(P(a, b-1, c, p-)'y) + (1-p)*L(P(a, b-1, c, p+)),<br />
	p*L(P(a, b, c-1, p-)'z) + (1-p)*L(P(a, b, c-1, p+))<br />
)<br />
<br />
여기에서는 P를 모두 계산할 필요까지는 없습니다. 왜냐하면 기댓값을 적용시켰을 때, L(P) = P의 E(Z)값이므로<br />
L(P(a-1, b, c, p-)'x) = L(P(a-1, b, c, p-))<br />
L(P(a, b-1, c, p-)'y) = L(P(a, b-1, c, p-))<br />
L(P(a, b, c-1, p-)'z) = L(P(a, b, c-1, p-)) + 1<br />
입니다.<br />
<br />
그리고 점화식의 최말단에서 P(0, 0, 0, p) = &quot;[0, 0, 0] 확률 100%&quot;이므로 L(P) = 0 으로 놓으면 나머지 값들도 얻을 수 있습니다.<br />
이렇게 구한 값들을 변수에 저장해뒀다가, 사용자가 입력한 상태에 따라서 하위 6개의 값들을 꺼내 계산한 다음 비교해서 추천하는 알고리즘입니다.<br />
다만 E(Z)만 비교하면 A와 B가 구별이 안 되기 때문에 저는 여기에 E(X)도 같이 비교해서 둘 중 선호하는 하나를 극대화할 수 있도록 했습니다.<br />
<br />
쓰다보니 수식이 많아져서... 도움이 될지 모르겠네요...<br />
2년 반 전에 이거 푸느라고 밤샛던 기억이 다시 떠올랐네요.ㅎㅎ<br />
덕분에 저도 정리가 된 것 같습니다. 이해 안 되시는 부분 있으면 질문해주세요~</p>
																</li>
															
														</ul>
													
												</li>
											
												<li id="comment16916135">
													<div class="author-meta">
														<img src="https://t1.daumcdn.net/tistory_admin/blog/admin/profile_default_01.png" class="avatar" alt="">
														<span class="nickname">헤으응</span>
														<span class="date">2021.05.03 20:34</span>
														<span class="control">
															<a href="/26#comment16916135">댓글주소</a>
															<a href="#" onclick="deleteComment(16916135);return false">수정/삭제</a>
															<a href="#" onclick="commentComment(16916135); return false">댓글쓰기</a>
														</span>
													</div>
													<p>사랑해요 진짜 3티 96돌 뽑앗어요</p>
													
												</li>
											
										</ul>
									</div>
								

								<form method="post" action="/comment/add/26" onsubmit="return false" style="margin: 0">
									<div class="comment-form">
										
											<div class="field">
												
													<input type="text" name="name" value="" placeholder="이름">
													<input type="password" name="password" value="" placeholder="암호">
												
												<div class="secret">
													<input type="checkbox" name="secret" id="secret">
													<label for="secret" tabindex="0">Secret</label>
												</div>
											</div>
										
										<textarea name="comment" cols="" rows="4" placeholder="여러분의 소중한 댓글을 입력해주세요."></textarea>
										<div class="submit">
											<button type="submit" class="btn" onclick="addComment(this, 26); return false;">댓글달기</button>
										</div>
								</div>
								</form>
							</div>
						</div><script type="text/javascript">loadedComments[26]=true;findFragmentAndHighlight(26)</script>
						
						

					
				
			</div>

			

			

			
				<div class="pagination">
					<a  href='/31' class="prev ">이전</a>
					
						<a  href='/36'><span >1</span></a>
					
						<a  href='/31'><span >2</span></a>
					
						<a ><span class="selected">3</span></a>
					
					<a  class="next no-more-next">다음</a>
				</div>
			

		</article>
	</section>
	<hr>
	<footer id="footer">
		<p class="copyright">DESIGN BY <a href="#">TISTORY</a> <a href="https://myar.tistory.com/manage" class="admin">관리자</a></p>
	</footer>
</div>
<script src="https://tistory4.daumcdn.net/tistory/2296026/skin/images/script.js"></script>


	<script>
	    lightbox.option({
			"fadeDuration": 200,
		    "resizeDuration": 200,
		    "wrapAround": false,
			"albumLabel": "%1 / %2",
			"fitImagesInViewport":true ,
			"stopEvent": false
	    })
	</script>            <script type="text/javascript" src="//t1.daumcdn.net/tiara/js/v1/tiara.min.js"></script>
            <script type="text/javascript">window.tiara = {"svcDomain":"user.tistory.com","section":"\uae00\ubdf0","trackPage":"\uae00\ubdf0_\ubcf4\uae30","page":"\uae00\ubdf0","key":"2296026-26","customProps":{"userId":0,"blogId":"2296026","role":"guest","filterTarget":false,"trackPage":"\uae00\ubdf0_\ubcf4\uae30","entryId":"26"},"entry":{"entryId":"26","categoryName":"","categoryId":"0","author":"3236887","authorId":"3236887","image":"3236887","plink":"\/26","tags":[],"key":"2296026-26"},"sentryDsn":"https:\/\/a53520229cd744e798d42900d76b0e2a@aem-collector.daumkakao.io\/713","kakaoAppKey":"b8aef3eeb03fa312b81795386484f051","appUserId":null};</script>
            <script type="text/javascript" src="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/script/tiara/tiara.min.js?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1" defer></script>
                        <script type="text/javascript">
                window.roosevelt_params_queue = window.roosevelt_params_queue || [{channel_id: 'dk', channel_label: 'tistory'}];
            </script>
            <script type="text/javascript" src="//t1.daumcdn.net/midas/rt/dk_bt/roosevelt_dk_bt.js" async></script><script type="text/javascript">if(window.console!=undefined){setTimeout(console.log.bind(console,"%cTISTORY","font:8em Arial;color:#EC6521;font-weight:bold"),0);setTimeout(console.log.bind(console,"%c  나를 표현하는 블로그","font:2em sans-serif;color:#333;"),0);}</script><iframe style="position:absolute;width:1px;height:1px;left:-100px;top:-100px" src="//myar.tistory.com/api" id="editEntry"></iframe>            <div class="#menubar menu_toolbar  toolbar_lb">
                                            <h2 class="screen_out">티스토리툴바</h2>
                                            
                                       </div>
                                       <div class="#menubar menu_toolbar  toolbar_rb"><div class='btn_tool btn_tool_type1' id='menubar_wrapper'></div></div>
                                       <script type="text/javascript" src="https://t1.daumcdn.net/tistory_admin/assets/blog/tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1/blogs/script/menubar.min.js?_version_=tistory-f90273e6d4a69350de183b13b5c2b3bcbe8250c1"></script>        <div class="layer_tooltip">
            <div class="inner_layer_tooltip">
                <p class="desc_g"></p>
            </div>
        </div>
        <div id="tistoryEtcLayer" class="layer_post"></div><div id="tistorySnsLayer" class="layer_post"></div></body>
</html>
